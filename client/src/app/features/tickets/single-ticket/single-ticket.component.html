<div class="descContent">
  <mat-grid-list class="section example-container mat-elevation-z8" [cols]="cols" [rowHeight]="rowHeight">

    <mat-grid-tile class="descContent" [colspan]="tiles[0].cols" [rowspan]="tiles[0].rows" [style.background]="tiles[0].color">
      <div class="wrapDesc">
      <form class="descForm" [formGroup]="Description" (ngSubmit)="updateTicket()">
        <mat-form-field class="descField">
          <textarea class="descArea" rows="6" matInput [attr.disabled]="isClosed()" [(ngModel)]="ticket && ticket.description" ngModel matInput
            placeholder="Description:" formControlName="description"></textarea>
        </mat-form-field>
      </form>

      <form class="dateForm" [formGroup]="Stickers" (ngSubmit)="updateTicket()">
        <mat-form-field class="dateField">
          <input class="dateArea" matInput [matDatepicker]="picker" [attr.disabled]="isClosed() || !accessRights() ? 'disabled' : null" [(ngModel)]="ticket && ticket.deadline"
            ngModel formControlName="deadline" placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </form>

    </div>
    </mat-grid-tile>
    <mat-grid-tile class="selectContent" [colspan]="tiles[1].cols" [rowspan]="tiles[1].rows" [style.background]="tiles[1].color">
      <form class="selectForm" [formGroup]="Stickers" (ngSubmit)="updateTicket()">
        <mat-form-field class="selectField">
          <mat-select class="selectArea" [disabled]="isClosed()" [(ngModel)]="ticket && ticket.Status.id" ngModel placeholder="{{defaultStatus}}"
            formControlName="StatusId">
            <mat-option *ngFor="let status of statuses" [value]="status?.id">
              {{ status?.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </mat-grid-tile>

    <mat-grid-tile class="selectContent" [colspan]="tiles[2].cols" [rowspan]="tiles[2].rows" [style.background]="tiles[2].color">
      <form class="selectForm" [formGroup]="Stickers" (ngSubmit)="updateTicket()">
        <mat-form-field class="selectField">
          <mat-select class="selectArea" [disabled]="isClosed()" [(ngModel)]="ticket && ticket.Label.id" ngModel placeholder="Label"
            formControlName="LabelId">
            <mat-option *ngFor="let label of labels" [value]="label?.id">
              {{ label?.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </mat-grid-tile>

    <mat-grid-tile class="selectContent" [colspan]="tiles[3].cols" [rowspan]="tiles[3].rows" [style.background]="tiles[3].color">
      <form class="selectForm" [formGroup]="Members" (ngSubmit)="updateTicket()">
        <mat-form-field class="selectField">
          <mat-select class="selectArea" [disabled]="isClosed() || !accessRights()" [(ngModel)]="ticket && ticket.requesterId.id" ngModel
            placeholder="Requester" formControlName="RequesterId">
            <mat-option *ngFor="let member of members" [value]="member?.id">
              {{ member?.email }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </mat-grid-tile>

    <mat-grid-tile class="selectContent" [colspan]="tiles[4].cols" [rowspan]="tiles[4].rows" [style.background]="tiles[4].color">
      <form class="selectForm" [formGroup]="Members" (ngSubmit)="updateTicket()">
        <mat-form-field class="selectField">
          <mat-select class="selectArea" [disabled]="isClosed() || !accessRights()" [(ngModel)]="ticket && ticket.assigneeId.id" ngModel
            placeholder="Assignee" formControlName="AssigneeId">
            <mat-option *ngFor="let member of members" [value]="member?.id">
              {{ member?.email }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </mat-grid-tile>

    <mat-grid-tile class="buttonsMPwrap" [colspan]="tiles[5].cols" [rowspan]="tiles[5].rows" [style.background]="tiles[5].color">
      <div class="buttonsMP">
        <button [disabled]="isClosed()" type="submit" mat-raised-button color="primary" (click)="updateTicket()">Save Changes</button>
      </div>
    </mat-grid-tile>

    <mat-grid-tile class="buttonsMPwrap" [colspan]="tiles[6].cols" [rowspan]="tiles[6].rows" [style.background]="tiles[6].color">
      <div>
        <button [disabled]="isClosed()" mat-raised-button color="primary" (click)="participate()">Members</button>
        <button [disabled]="isClosed()" mat-raised-button color="primary" (click)="participate()">Participate</button>
      </div>
    </mat-grid-tile>

    <mat-grid-tile class="selectContent" [colspan]="tiles[7].cols" [rowspan]="tiles[7].rows" [style.background]="tiles[7].color">
      <form class="commentaryForm" [formGroup]="Comment" (ngSubmit)="commentTicket()">
        <mat-form-field class="commentaryField">
          <input class="commentaryArea" [attr.disabled]="isClosed() ? 'disabled' : null" [(ngModel)]="commentary" ngModel formControlName="content"
            matInput placeholder="Comment" required>
        </mat-form-field>
      </form>
      <button class="" [disabled]="isClosed()" mat-raised-button color="primary" (click)="commentTicket()" class="post">POST</button>
    </mat-grid-tile>

  </mat-grid-list>
</div>
<div class="descContent">
  <app-commentary-list class="commentaryList" [commentsList]="comments"></app-commentary-list>
</div>
